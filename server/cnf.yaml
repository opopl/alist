
auth:

img:

prj:
  proj: letopis
  rootid : p_sr

  class:
    proj: letopis
    rootid : p_sr

  controller:
    proj: letopis
    rootid : p_sr
    config:
       templates:
          forms:
            'sec_new':
###form_sec_new
            - id: 'form_sec_new'
              #pre: '<h2>Section</h2>'
              tab:
                attr: 'id=tab_sec_new'
              cols:
              - { width : '10%' }
              - { width : '5%' }
              - { width : '50%' }
              - { width : '20%' }
              rows:
              - [ 'label@@ URL:',
                  'button button@class=prj-input-url-clear@Clear',
                  'input text@ class=prj-input-url name=url', '' ]
              - [ 'label@@ Title:'   , '', 'input text@ name=title', '' ]
              - [ 'label@@ Section:' , '', 'input text@ name=sec', '' ]
              - [ 'label@@ Tags:'    ,
                  'button button@class=prj-input-tags-clear@Clear',
                  'input text@ name=tags class=prj-input-tags', '' ]
              - [ 'label@@ Date:'    , '', 'input date@ name=date', '' ]
              - [ 'button submit@@Submit', '', 'button reset@@Clear Form' ]
###form_img_new
            - id: 'form_img_new'
              #pre: '<button value="clear">Clear</button>'
              tab:
                attr: 'id=tab_img_new'
              cols:
              - { width : '10%' }
              - { width : '5%' }
              - { width : '50%' }
              - { width : '20%' }
              rows:
              - [ 'label@@ URL:',
                  'button button@class=prj-input-url-clear@Clear',
                  'input text@ class=prj-input-url name=url', '' ]
              - [ 'label@@File:' ,
                  'button button@class=prj-input-file-clear@Clear',
                  'input file@ name=file class=prj-input-file multiple accept="image/*"', '' ]
              - [ 'label@@Caption:' , '', 'input text@ name=caption', '' ]
              - [ 'label@@Tags:' ,
                  'button button@class=prj-input-tags-clear@Clear',
                  'input text@ class=prj-input-tags name=tags', '' ]
              - [ 'button submit@@Submit', '', 'button reset@@Clear Form' ]
              #- [ 'label@@ Title:'   , '', 'input text@ id=input_sec_new_title name=title', '' ]
              #- [ 'label@@ Section:' , '', 'input text@ id=input_sec_new_name name=sec', '' ]
              #- [ 'label@@ Tags:' , '', 'input text@ id=input_sec_new_tags name=tags', '' ]
              #- [ 'label@@ Date:'    , '', 'input date@ id=input_sec_new_date name=date', '' ]
              #- [ 'button submit@@Submit', '', '' ]

       methods:
          htmlSecView:
             cols:
             - _check
             - _html
             - _pdf
             - authors
             - tags
             - title
             - sec
             header:
               _html : 'html'
               _pdf : 'pdf'
               _check : ''
          htmlAuthSecs:
             cols:
             - _check
             - _html
             - _pdf
             - date
             - tags
             - title
             - sec
             header:
               _html : 'html'
               _pdf : 'pdf'
               _check : ''
          htmlTagSecs:
             cols:
               db:
               - sec
               - file
               - date
               - title
               html:
               - _check
               - _html
               - _pdf
               - date
               - authors
               - tags
               - title
               - sec
             header:
               _html : 'html'
               _pdf : 'pdf'
               _check : ''

       bld :
          cols : 'bid buuid plan duration target status'
###ui
       ui :
###ui.tab
          tab :
            saved:
              iframe:
                sandbox : ''
                width : ''
                height : ''
              radioList:
              - { id : 'orig', name : 'Orig' }
              - { id : 'view', name : 'View' }
              - { id : 'unwrap', name : 'Unwrap' }
              - { id : 'parse', name : 'Parse' }
              - { id : 'content', name : 'Content' }
              - { id : 'article', name : 'Article' }
              - { id : 'comments', name : 'Comments' }
              - { id : 'cmttex', name : 'Comments (TeX)' }

###ui.page
          page :
             'tag' :
                tabs : [ 'html' ]

             'auth' :
                tabs : [ 'html' ]

             'sec@date' :
                tabs : [ 'html' ]

             'sec@post' :
                tabs :
                - 'html'
                - 'pics'
                - 'fs'
                - 'saved'
                - 'pdf'
                - 'tex'
                - 'log'
                - 'bld'

###ui.tables
          tables:
             '@common':
                dataTable:
###ui.tables.@common.dataTable
                   paging  : true
                   autoWidth: false
                   columnDefs:
                   - { "width" : "5%" }
                   - { "width" : "5%" }
                   - { "width" : "5%" }
                   fixedHeader:
                     header: true
                     footer: true
                   buttons: [ 'copy', 'excel', 'pdf' ]

###ui.forms
          forms:
             '@common':
                validate:
                  messages:
                    url:
                      required: 'URL REQUIRED'
                      url: 'MUST BE URL'
                      url_img_db : 'ALREADY IN DB'

             form_sec_new:
                url: "/prj/sec/new"
                validate :
                  rules:
                    url:
                      required: true
                      url: true
                      url_prj_db: true

###ui.forms.form_img_new
             form_img_new:
                url: "/img/new"
                validate :
                  rules:
                    url:
                      #required: true
                      url: true
                      url_img_db: true
                    file:
                      #accept: "image/jpeg, image/png, image/pjpeg"
                      #accept: "image/jpeg"

                  messages:
                    url:
                      required: 'URL REQUIRED'
                      url: 'MUST BE URL'
                      #url_img_db : 'IMAGE ALREADY IN DATABASE'
